import{v as w,A as j,a as b,t as e,B as v,z as C}from"./chunk-ZYFC6VSF-CcTFIW6Y.js";import{u as N}from"./react-redux-DItQxzwd.js";import{a as u}from"./user-slice-CHAln-Bf.js";import{g as A,c as E,d as k,s as y}from"./index-35c79a8a-B373Vm6L.js";import"./index.esm2017-T8jfeyBt.js";import{b as F,v as P}from"./util-BYEQYhcI.js";import{I as d}from"./Input-D8yPxS1O.js";import{B as x}from"./Button-DRBTarQj.js";import"./redux-toolkit.modern-lSMJCofG.js";const U=w(function(){const r=N(),m=A(),p=j();b.useEffect(()=>(r(u.startCreatingAccount()),()=>{r(u.stopCreatingAccount())}),[r]);function g(t){t.preventDefault();const h=new FormData(t.target),o=Object.fromEntries(h);console.log("submitted data:",o);const f=o["entered-email"];if(!F(f)){console.log("make sure you've entered a valid email");return}const n=o["entered-password"];if(P(n)){if(n!==o["confirm-password"]){console.log("passwords do not match. make sure the entered password matches the confirmation.");return}}else{console.log("not a valid password");return}E(m,f,n).then(a=>{const c=a.user;console.log("user account has been created"),k(c).then(()=>{console.log("email verification sent")}).catch(s=>{const l=s.code,i=s.message;console.log("error sending verification email"),console.log(l,i)}),y(m).then(()=>{console.log("successfully signed out")}).catch(s=>{const l=s.code,i=s.message;console.log("error signing out"),console.log(l,i)})}).catch(a=>{const c=a.code,s=a.message;console.log("error creating account"),console.log(c,s)}),p("/signin")}return e.jsx("div",{className:"flex flex-grow bg-[#f8eedf] text-center justify-center items-center",children:e.jsx(v,{onSubmit:t=>g(t),children:e.jsxs("div",{className:"flex flex-col items-start gap-5",children:[e.jsx("h1",{children:"Create Account"}),e.jsxs("div",{className:"flex flex-col text-start gap-1",children:[e.jsx("label",{htmlFor:"entered-email",className:"text-black text-[1.6rem] font-semibold",children:"Email"}),e.jsx(d,{id:"entered-email",name:"entered-email",type:"text",className:"w-100 text-md",required:!0})]}),e.jsxs("div",{className:"flex flex-col text-start gap-1",children:[e.jsx("label",{htmlFor:"entered-password",className:"text-black text-[1.6rem] font-semibold",children:"Password"}),e.jsx(d,{id:"entered-password",name:"entered-password",type:"password",className:"w-100 text-md",autoComplete:"off",required:!0})]}),e.jsxs("div",{className:"flex flex-col text-start gap-1",children:[e.jsx("label",{htmlFor:"confirm-password",className:"text-black text-[1.6rem] font-semibold",children:"Confirm Password"}),e.jsx(d,{id:"confirm-password",name:"confirm-password",type:"password",className:"w-100 text-md",autoComplete:"off",required:!0})]}),e.jsxs("div",{className:"flex flex-row self-end gap-5 mt-10",children:[e.jsx(C,{to:"/signin",children:e.jsx(x,{type:"button",children:"Cancel"})}),e.jsx(x,{children:"Create"})]})]})})})});export{U as default};
